<template>
  <figure class="scheme-tickets__photo">
    <a
      class="scheme-tickets__photo-link"
      :href="href"
      @click.prevent="triggerPopup(true)"
    >
      <img :src="src" :alt="alt">
      <span class="scheme-tickets__photo-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 43.914 43.914" width="26" height="26" fill="#ffffff">
          <path d="M20.592,0.119c3.778,0.524,7,2.492,9.174,5.301c2.174,2.825,3.286,6.476,2.809,10.301  c-0.19,1.46-0.587,2.825-1.159,4.079c-0.492,1.048-1.095,2.016-1.794,2.889l8.968,14.809v0.016c0.571,0.936,0.698,2.016,0.46,3  c-0.254,0.984-0.873,1.889-1.809,2.46h-0.016l-0.571,0.365h-0.016c-0.952,0.571-2.032,0.698-3.016,0.46  c-0.984-0.254-1.889-0.873-2.46-1.809v-0.016l-8.793-14.523c-0.73,0.19-1.476,0.333-2.238,0.413c-1,0.095-2.032,0.095-3.079-0.032  c-0.063,0-0.143-0.016-0.206-0.032c-3.778-0.508-7-2.476-9.174-5.286c-2.174-2.794-3.27-6.413-2.825-10.206  c0-0.063,0.016-0.143,0.032-0.206c0.508-3.778,2.492-7.016,5.285-9.174c2.794-2.175,6.412-3.286,10.206-2.825  C20.449,0.103,20.512,0.119,20.592,0.119L20.592,0.119z M22.782,19.912c0.508-0.349,1.206-0.222,1.555,0.286  c0.349,0.508,0.206,1.206-0.302,1.556c-0.936,0.635-1.984,1.111-3.111,1.381c-1.079,0.27-2.222,0.333-3.397,0.19  c-1.905-0.238-3.603-1.032-4.952-2.19c-1.397-1.206-2.428-2.794-2.936-4.571c-0.159-0.603,0.175-1.222,0.778-1.381  c0.587-0.175,1.206,0.175,1.381,0.762c0.381,1.365,1.175,2.571,2.238,3.492c1.032,0.889,2.317,1.492,3.778,1.667  c0.889,0.127,1.762,0.063,2.587-0.127C21.258,20.769,22.068,20.404,22.782,19.912L22.782,19.912z M27.988,6.785  c-1.841-2.381-4.571-4.047-7.793-4.46l0,0c-3.206-0.413-6.285,0.524-8.666,2.365c-2.365,1.841-4.047,4.587-4.46,7.793l0,0  c-0.397,3.222,0.524,6.301,2.365,8.666c1.841,2.381,4.587,4.048,7.793,4.46h0.016c0.905,0.111,1.794,0.127,2.667,0.032  c0.889-0.095,1.762-0.286,2.603-0.571l0,0c0.476-0.159,1.032,0.032,1.317,0.476l9.19,15.19c0.032,0.063,0.079,0.111,0.095,0.175  c0.254,0.365,0.635,0.619,1.048,0.714c0.413,0.095,0.857,0.063,1.254-0.159c0.063-0.032,0.111-0.063,0.175-0.095l0.397-0.254  c0.063-0.032,0.111-0.063,0.175-0.095c0.365-0.254,0.619-0.619,0.714-1.048c0.095-0.413,0.063-0.857-0.159-1.254  c-0.032-0.048-0.063-0.111-0.095-0.159l-9.269-15.301c-0.016-0.032-0.032-0.048-0.032-0.063l-0.016-0.016v-0.016  c-0.254-0.413-0.222-0.952,0.111-1.333c0.794-0.873,1.46-1.873,1.968-2.968c0.476-1.048,0.825-2.206,0.968-3.413  C30.766,12.229,29.829,9.15,27.988,6.785L27.988,6.785z"/>
        </svg>
      </span>
    </a>
    <Popup
      v-if="open"
      @popup-close="triggerPopup(false)"
      class="popup--full popup--img"
    >
      <div class="popup__img" :style="popupImg"></div>
    </Popup>
  </figure>
</template>

<script>
  import Popup from "../Popup/Popup"

  export default {
    components: {
      Popup
    },
    data() {
      return {
        open: false
      }
    },
    props: {
      src: {
        type: String,
        default: `https://via.placeholder.com/235x136`
      },
      alt: {
        type: String,
        default: `Image`
      },
      href: {
        type: String,
        default: `https://via.placeholder.com/800x600`
      }
    },
    computed: {
      popupImg() {
        return {
          backgroundImage: `url(${this.href})`
        }
      }
    },
    methods: {
      triggerPopup(flag) {
        this.open = flag
      }
    }
  }
</script>

