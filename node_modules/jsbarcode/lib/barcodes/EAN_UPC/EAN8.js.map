{"version":3,"sources":["../../../src/barcodes/EAN_UPC/EAN8.js"],"names":["checksum","number","res","substr","split","map","n","reduce","sum","a","idx","EAN8","data","options","search","EAN"],"mappings":";;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AAC1B,MAAMC,GAAG,GAAGD,MAAM,CAChBE,MADU,CACH,CADG,EACA,CADA,EAEVC,KAFU,CAEJ,EAFI,EAGVC,GAHU,CAGN,UAAAC,CAAC;AAAA,WAAI,CAACA,CAAL;AAAA,GAHK,EAIVC,MAJU,CAIH,UAACC,GAAD,EAAMC,CAAN,EAASC,GAAT;AAAA,WAAkBA,GAAG,GAAG,CAAN,GAAUF,GAAG,GAAGC,CAAhB,GAAoBD,GAAG,GAAGC,CAAC,GAAG,CAAhD;AAAA,GAJG,EAIiD,CAJjD,CAAZ;AAMA,SAAO,CAAC,KAAMP,GAAG,GAAG,EAAb,IAAoB,EAA3B;AACA,CARD;;IAUMS,I;;;;;AACL,gBAAYC,IAAZ,EAAkBC,OAAlB,EAA2B;AAAA;;AAC1B;AACA,QAAID,IAAI,CAACE,MAAL,CAAY,YAAZ,MAA8B,CAAC,CAAnC,EAAsC;AACrCF,MAAAA,IAAI,IAAIZ,QAAQ,CAACY,IAAD,CAAhB;AACA;;AAJyB,6EAMpBA,IANoB,EAMdC,OANc;AAO1B;;;;4BAEO;AACP,aAAO,KAAKD,IAAL,CAAUE,MAAV,CAAiB,YAAjB,MAAmC,CAAC,CAApC,IAAyC,CAAC,KAAKF,IAAL,CAAU,CAAV,CAAD,KAAkBZ,QAAQ,CAAC,KAAKY,IAAN,CAA1E;AACA;;;+BAEU;AACV,gFAAsB,CAAtB,EAAyB,CAAzB;AACA;;;iCAEY;AACZ,UAAMA,IAAI,GAAG,KAAKA,IAAL,CAAUT,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAb;AACA,kFAAwBS,IAAxB,EAA8B,MAA9B;AACA;;;gCAEW;AACX,iFAAuB,CAAvB,EAA0B,CAA1B;AACA;;;kCAEa;AACb,UAAMA,IAAI,GAAG,KAAKA,IAAL,CAAUT,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAb;AACA,mFAAyBS,IAAzB,EAA+B,MAA/B;AACA;;;;EA9BiBG,a;;eAiCJJ,I","sourcesContent":["// Encoding documentation:\n// http://www.barcodeisland.com/ean8.phtml\n\nimport EAN from './EAN';\n\n// Calculate the checksum digit\nconst checksum = number => {\n\tconst res = number\n\t\t.substr(0, 7)\n\t\t.split('')\n\t\t.map(n => +n)\n\t\t.reduce((sum, a, idx) => (idx % 2 ? sum + a : sum + a * 3), 0);\n\n\treturn (10 - (res % 10)) % 10;\n};\n\nclass EAN8 extends EAN {\n\tconstructor(data, options) {\n\t\t// Add checksum if it does not exist\n\t\tif (data.search(/^[0-9]{7}$/) !== -1) {\n\t\t\tdata += checksum(data);\n\t\t}\n\n\t\tsuper(data, options);\n\t}\n\n\tvalid() {\n\t\treturn this.data.search(/^[0-9]{8}$/) !== -1 && +this.data[7] === checksum(this.data);\n\t}\n\n\tleftText() {\n\t\treturn super.leftText(0, 4);\n\t}\n\n\tleftEncode() {\n\t\tconst data = this.data.substr(0, 4);\n\t\treturn super.leftEncode(data, 'LLLL');\n\t}\n\n\trightText() {\n\t\treturn super.rightText(4, 4);\n\t}\n\n\trightEncode() {\n\t\tconst data = this.data.substr(4, 4);\n\t\treturn super.rightEncode(data, 'RRRR');\n\t}\n}\n\nexport default EAN8;\n"],"file":"EAN8.js"}