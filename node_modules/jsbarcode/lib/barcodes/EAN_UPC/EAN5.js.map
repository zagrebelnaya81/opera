{"version":3,"sources":["../../../src/barcodes/EAN_UPC/EAN5.js"],"names":["checksum","data","result","split","map","n","reduce","sum","a","idx","EAN5","options","search","structure","EAN5_STRUCTURE","text","Barcode"],"mappings":";;;;;;;AAGA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAAC,IAAI,EAAI;AACxB,MAAMC,MAAM,GAAGD,IAAI,CACjBE,KADa,CACP,EADO,EAEbC,GAFa,CAET,UAAAC,CAAC;AAAA,WAAI,CAACA,CAAL;AAAA,GAFQ,EAGbC,MAHa,CAGN,UAACC,GAAD,EAAMC,CAAN,EAASC,GAAT,EAAiB;AACxB,WAAOA,GAAG,GAAG,CAAN,GAAUF,GAAG,GAAGC,CAAC,GAAG,CAApB,GAAwBD,GAAG,GAAGC,CAAC,GAAG,CAAzC;AACA,GALa,EAKX,CALW,CAAf;AAMA,SAAON,MAAM,GAAG,EAAhB;AACA,CARD;;IAUMQ,I;;;;;AACL,gBAAYT,IAAZ,EAAkBU,OAAlB,EAA2B;AAAA;;AAAA,6EACpBV,IADoB,EACdU,OADc;AAE1B;;;;4BAEO;AACP,aAAO,KAAKV,IAAL,CAAUW,MAAV,CAAiB,YAAjB,MAAmC,CAAC,CAA3C;AACA;;;6BAEQ;AACR,UAAMC,SAAS,GAAGC,0BAAed,QAAQ,CAAC,KAAKC,IAAN,CAAvB,CAAlB;;AACA,aAAO;AACNA,QAAAA,IAAI,EAAE,SAAS,sBAAO,KAAKA,IAAZ,EAAkBY,SAAlB,EAA6B,IAA7B,CADT;AAENE,QAAAA,IAAI,EAAE,KAAKA;AAFL,OAAP;AAIA;;;;EAfiBC,iB;;eAkBJN,I","sourcesContent":["// Encoding documentation:\n// https://en.wikipedia.org/wiki/EAN_5#Encoding\n\nimport { EAN5_STRUCTURE } from './constants';\nimport encode from './encoder';\nimport Barcode from '../Barcode';\n\nconst checksum = data => {\n\tconst result = data\n\t\t.split('')\n\t\t.map(n => +n)\n\t\t.reduce((sum, a, idx) => {\n\t\t\treturn idx % 2 ? sum + a * 9 : sum + a * 3;\n\t\t}, 0);\n\treturn result % 10;\n};\n\nclass EAN5 extends Barcode {\n\tconstructor(data, options) {\n\t\tsuper(data, options);\n\t}\n\n\tvalid() {\n\t\treturn this.data.search(/^[0-9]{5}$/) !== -1;\n\t}\n\n\tencode() {\n\t\tconst structure = EAN5_STRUCTURE[checksum(this.data)];\n\t\treturn {\n\t\t\tdata: '1011' + encode(this.data, structure, '01'),\n\t\t\ttext: this.text\n\t\t};\n\t}\n}\n\nexport default EAN5;\n"],"file":"EAN5.js"}