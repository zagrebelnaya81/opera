{"version":3,"sources":["../../../src/barcodes/pharmacode/index.js"],"names":["pharmacode","data","options","number","parseInt","z","result","isNaN","slice","text","Barcode"],"mappings":";;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;IAEMA,U;;;;;AACL,sBAAYC,IAAZ,EAAkBC,OAAlB,EAA2B;AAAA;;AAAA;;AAC1B,oFAAMD,IAAN,EAAYC,OAAZ;AACA,UAAKC,MAAL,GAAcC,QAAQ,CAACH,IAAD,EAAO,EAAP,CAAtB;AAF0B;AAG1B;;;;6BAEQ;AACR,UAAII,CAAC,GAAG,KAAKF,MAAb;AACA,UAAIG,MAAM,GAAG,EAAb,CAFQ,CAIR;AACA;;AACA,aAAO,CAACC,KAAK,CAACF,CAAD,CAAN,IAAaA,CAAC,IAAI,CAAzB,EAA4B;AAC3B,YAAIA,CAAC,GAAG,CAAJ,KAAU,CAAd,EAAiB;AAChB;AACAC,UAAAA,MAAM,GAAG,UAAUA,MAAnB;AACAD,UAAAA,CAAC,GAAG,CAACA,CAAC,GAAG,CAAL,IAAU,CAAd;AACA,SAJD,MAIO;AACN;AACAC,UAAAA,MAAM,GAAG,QAAQA,MAAjB;AACAD,UAAAA,CAAC,GAAG,CAACA,CAAC,GAAG,CAAL,IAAU,CAAd;AACA;AACD,OAhBO,CAkBR;;;AACAC,MAAAA,MAAM,GAAGA,MAAM,CAACE,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAT;AAEA,aAAO;AACNP,QAAAA,IAAI,EAAEK,MADA;AAENG,QAAAA,IAAI,EAAE,KAAKA;AAFL,OAAP;AAIA;;;4BAEO;AACP,aAAO,KAAKN,MAAL,IAAe,CAAf,IAAoB,KAAKA,MAAL,IAAe,MAA1C;AACA;;;;EAnCuBO,iB;;eAsCVV,U","sourcesContent":["// Encoding documentation\n// http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf\n\nimport Barcode from '../Barcode.js';\n\nclass pharmacode extends Barcode {\n\tconstructor(data, options) {\n\t\tsuper(data, options);\n\t\tthis.number = parseInt(data, 10);\n\t}\n\n\tencode() {\n\t\tvar z = this.number;\n\t\tvar result = '';\n\n\t\t// http://i.imgur.com/RMm4UDJ.png\n\t\t// (source: http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf, page: 34)\n\t\twhile (!isNaN(z) && z != 0) {\n\t\t\tif (z % 2 === 0) {\n\t\t\t\t// Even\n\t\t\t\tresult = '11100' + result;\n\t\t\t\tz = (z - 2) / 2;\n\t\t\t} else {\n\t\t\t\t// Odd\n\t\t\t\tresult = '100' + result;\n\t\t\t\tz = (z - 1) / 2;\n\t\t\t}\n\t\t}\n\n\t\t// Remove the two last zeroes\n\t\tresult = result.slice(0, -2);\n\n\t\treturn {\n\t\t\tdata: result,\n\t\t\ttext: this.text\n\t\t};\n\t}\n\n\tvalid() {\n\t\treturn this.number >= 3 && this.number <= 131070;\n\t}\n}\n\nexport default pharmacode;\n"],"file":"index.js"}